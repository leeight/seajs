/*
 SeaJS v2.0.0-beta | seajs.org/LICENSE.md
*/
'use strict';(function(l,p){function C(b){return"function"===typeof b}function K(b){for(var c={},a=[],d=0,e=b.length;d<e;d++){var g=b[d];1!==c[g]&&(c[g]=1,a.push(g))}return a}function D(b,c,a){y(b,c);return c[a]}function Q(b){b=b.match(ea);return(b?b[0]:".")+"/"}function L(b,c){if(!b)return"";var a=b,d=m.alias,e;if(e=d)if(e=E.call(d,a)){e=a;var g=e.charAt(0);e=-1===e.indexOf("://")&&"."!==g&&"/"!==g}e&&(a=d[a]);var f=m.vars;f&&-1<a.indexOf("{")&&(a=a.replace(fa,function(a,b){return E.call(f,b)?f[b]:
"{"+b+"}"}));d=c||F;0<a.indexOf("://")||0===a.indexOf("//")||(0===a.indexOf("./")||0===a.indexOf("../")?(0===a.indexOf("./")&&(a=a.substring(2)),a=Q(d)+a):a="/"===a.charAt(0)&&"/"!==a.charAt(1)?d.match(ga)[1]+a:m.base+a);7<a.lastIndexOf("//")&&(a=a.replace(ha,"$1/"));if(-1!==a.indexOf(".")){d=a.split("/");e=[];for(var n=0,h=d.length;n<h;n++)if(g=d[n],".."===g){if(0===e.length)throw Error("Invalid path: "+a);e.pop()}else"."!==g&&e.push(g);a=e.join("/")}"#"===a.charAt(a.length-1)?a=a.slice(0,-1):ia.test(a)||
(a+=".js");a=a.replace(":80/","/");d=m.map||[];n=a;if(e=d.length)for(g=0;g<e&&!(n=d[g],n=C(n)?n(a)||a:a.replace(n[0],n[1]),n!==a);g++);return n}function R(b,c){var a=b.sheet,d;if(S)a&&(d=!0);else if(a)try{a.cssRules&&(d=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(d=!0)}setTimeout(function(){d?c():R(b,c)},1)}function ja(){if(G)return G;if(H&&"interactive"===H.readyState)return H;for(var b=z.getElementsByTagName("script"),c=b.length-1;0<=c;c--){var a=b[c];if("interactive"===a.readyState)return H=
a}}function A(b,c){this.uri=b;this.status=c||k.INITIALIZED;this.dependencies=[];this.waitings=[]}function B(b,c){if(u(b)){for(var a=[],d=0,e=b.length;d<e;d++)a[d]=B(b[d],c);return a}a={id:b,refUri:c,id2Uri:L};d=D("resolve",a,"id");return a.uri||L(d,c)}function T(b,c,a){function d(a){a&&a.status<k.LOADED&&(a.status=k.LOADED);0===--e&&c()}a=a||{};b=a.filtered?b:U(b);if(0===b.length)c();else{y("load",b);for(var e=a=b.length,g=0;g<a;g++)(function(a){function b(){if(c.status<k.SAVED)d();else if(V(c)){var a=
v;a.push(a[0]);W("Circular dependencies: "+a.join(" --\x3e "));v.length=0;d()}else a=c.waitings=U(c.dependencies),0===a.length?d(c):T(a.slice(),function(){d(c)},{filtered:!0})}var c=s[a];if(c.status<k.SAVED){var e=function(){delete M[g];N[g]=!0;I&&(X(a,I),I=null);var b,c=J[g];for(delete J[g];b=c.shift();)b()};s[a].status=k.FETCHING;var g=D("fetch",{uri:a,fetchedList:N},"requestUri")||a;if(N[g])b();else if(M[g])J[g].push(b);else{M[g]=!0;J[g]=[b];var f=m.charset,h={uri:a,requestUri:g,callback:e,charset:f};
if(!D("request",h,"requested")){var h=h.requestUri,j=ka.test(h),q=r.createElement(j?"link":"script");if(f&&(f=C(f)?f(h):f))q.charset=f;if("SCRIPT"===q.nodeName){var t=q;t.onload=t.onerror=t.onreadystatechange=function(){la.test(t.readyState)&&(t.onload=t.onerror=t.onreadystatechange=null,m.debug||z.removeChild(t),t=p,e&&e())}}else{var l=q;S||ma?setTimeout(function(){R(l,e)},1):l.onload=l.onerror=function(){l.onload=l.onerror=null;l=p;e&&e()}}j?(q.rel="stylesheet",q.href=h):(q.async=!0,q.src=h);G=
q;Y?z.insertBefore(q,Y):z.appendChild(q);G=null}}}else b()})(b[g])}}function na(b,c,a){var d=arguments.length;1===d?(a=b,b=p):2===d&&(a=c,c=p,u(b)&&(c=b,b=p));if(!u(c)&&C(a)){var d=a.toString(),e=[],g;Z.lastIndex=0;for(d=d.replace(oa,"");g=Z.exec(d);)g[2]&&e.push(g[2]);c=K(e)}var d={id:b,dependencies:c,factory:a},f;!b&&r.attachEvent&&((e=ja())&&e.src?(f=e.hasAttribute?e.src:e.getAttribute("src",4),f=D("derived",{uri:f},"uri")):W("Failed to derive: "+a));(f=b?B(b):f)?X(f,d):I=d}function X(b,c){var a=
s[b]||(s[b]=new A(b,void 0));a.status<k.SAVED&&(a.id=c.id||b,a.dependencies=B(c.dependencies||[],b),a.factory=c.factory,a.status=k.SAVED,y("saved",a))}function $(b){function c(a){a=s[c.resolve(a)];if(a===p)return null;a.parent=b;return $(a)}if(!b)return null;if(b.status>=k.COMPILING)return b.exports;y("compile",b);if(b.status<k.LOADED&&b.exports===p)return null;b.status=k.COMPILING;c.async=function(a,d){b.load(a,d);return c};c.resolve=function(a){return B(a,b.uri)};var a=b.factory,d=a===p?b.exports:
a;C(a)&&(d=a(c,b.exports={},b));b.exports=d===p?b.exports:d;b.status=k.COMPILED;y("compiled",b);return b.exports}function U(b){for(var c=[],a=0,d=b.length;a<d;a++){var e=b[a];e&&(s[e]||(s[e]=new A(e,void 0))).status<k.LOADED&&c.push(e)}return c}function V(b){var c=b.waitings;if(0===c.length)return!1;v.push(b.uri);b=c.concat(v);if(K(b).length<b.length){b=v[0];for(var a=c.length-1;0<=a;a--)if(c[a]===b){c.splice(a,1);break}return!0}for(b=0;b<c.length;b++)if(V(s[c[b]]))return!0;v.pop();return!1}function aa(b){var c=
m.preload,a=c.length;a?ba.load(c.splice(0,a),function(){aa(b)}):b()}function O(b){for(var c in b){var a=b[c];if(E.call(b,c)&&a!==p){if("plugins"===c){c="preload";var d=[],e=void 0;for(u(a)||(a=[a]);e=a.shift();)d.push(ca+"plugin-"+e);a=d}if((d=m[c])&&/^(?:alias|vars)$/.test(c))for(var f in a)E.call(a,f)&&(d[f]=a[f]);else u(d)&&/^(?:map|preload)$/.test(c)&&(a=d.concat(a)),m[c]=a,"base"===c&&(a=m.base,0<a.indexOf("://")||0===a.indexOf("//")||(m.base=L(("/"===a.charAt(0)&&"/"!==a.charAt(1)?"":"./")+
a+("/"===a.charAt(a.length-1)?"":"/"))))}}return h}if(!l.seajs){var h=l.seajs={version:"2.0.0-beta"},E={}.hasOwnProperty,u=Array.isArray||function(b){return b instanceof Array},W=h.log=function(b,c){var a=l.console;if(a&&(c||m.debug))(a[c]||a.log).call(a,b)},w={};h.on=function(b,c){if(!c)return h;(w[b]||(w[b]=[])).push(c);return h};h.off=function(b,c){if(!b&&!c)return w={},h;var a=w[b];if(a)if(c)for(var d=a.length-1;0<=d;d--)a[d]===c&&a.splice(d,1);else delete w[b];return h};var y=h.emit=function(b,
c){var a=w[b],d;if(a)for(a=a.slice();d=a.shift();)d(c);return h},ea=/[^?]*(?=\/.*$)/,ha=/([^:\/])\/\/+/g,ia=/\?|\.(?:css|js)$|\/$/,ga=/^(.*?:\/\/.*?)(?:\/|$)/,fa=/{([^{}]+)}/g,r=document,j=l.location,F,f=j.pathname;"/"!==f.charAt(0)&&(f="/"+f);f=j.protocol+"//"+j.host+f;-1<f.indexOf("\\")&&(f=f.replace(/\\/g,"/"));F=f;if(!(f=r.getElementById("seajs-node")))f=r.getElementsByTagName("script"),f=f[f.length-1]||r.createElement("script");var ca=Q((f.hasAttribute?f.src:f.getAttribute("src",4))||F),z=r.head||
r.getElementsByTagName("head")[0]||r.documentElement,Y=z.getElementsByTagName("base")[0],ka=/\.css(?:\?|$)/i,la=/loaded|complete|undefined/,G,H,x=navigator.userAgent,S=536>Number(x.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")),ma=0<x.indexOf("Firefox")&&!("onload"in r.createElement("link")),Z=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,oa=/\\\\/g,s=h.cache={},k=A.STATUS={INITIALIZED:1,FETCHING:2,
SAVED:3,LOADED:4,COMPILING:5,COMPILED:6};A.prototype.load=function(b,c){var a=B(u(b)?b:[b],this.uri);T(a,function(){for(var b=[],e=0,f=a.length;e<f;e++)b[e]=$(s[a[e]]);c&&c.apply(l,b)});return this};var M={},N={},J={},I=null,v=[],ba=new A(F,k.COMPILED);h.use=function(b,c){aa(function(){ba.load(b,c)});return h};l.define=na;var x=ca,da=x.match(/^(.+?\/)(?:seajs\/)+\d[^/]+\/$/);da&&(x=da[1]);var m=O.data={base:x,charset:"utf-8",preload:[]};h.config=O;var P=[],j=j.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),
j=j+(" "+r.cookie);j.replace(/seajs-(\w+)=1/g,function(b,c){P.push(c)});j=P.length?K(P):p;O({plugins:j});j=f.getAttribute("data-config");f=f.getAttribute("data-main");j&&m.preload.push(j);f&&h.use(f)}})(this);
//@ sourceMappingURL=sea.js.map